<h1 id="nav_point_267">&#38468;&#24405; C&#12288;&#36890;&#36807; Spring Native &#25171;&#21253;&#26412;&#22320;&#38236;&#20687;</h1><p>&#22312;&#20113;&#21407;&#29983;&#24212;&#29992;&#36234;&#26469;&#36234;&#24191;&#27867;&#30340;&#20170;&#22825;&#65292;&#22823;&#23478;&#23545;&#26381;&#21153;&#25552;&#20986;&#20102;&#24456;&#22810;&#26032;&#30340;&#35201;&#27714;&#12290;&#20197;&#21069;&#30340;&#26381;&#21153;&#21482;&#35201;&#36305;&#36215;&#26469;&#65292;&#23601;&#38271;&#26102;&#38388;&#36816;&#34892;&#65292;&#21551;&#21160;&#24930;&#19968;&#28857;&#12289;&#21344;&#29992;&#36164;&#28304;&#22810;&#19968;&#28857;&#37117;&#19981;&#26159;&#38382;&#39064;&#12290;&#22312;&#24377;&#24615;&#20280;&#32553;&#65292;&#25353;&#37327;&#35745;&#36153;&#30340;&#20113;&#24179;&#21488;&#19979;&#65292;&#24179;&#26102;&#20445;&#25345;&#26368;&#23567;&#23454;&#20363;&#25968;&#65292;&#29978;&#33267; 0 &#23454;&#20363;&#65292;&#35831;&#27714;&#21040;&#26469;&#21518;&#24555;&#36895;&#25289;&#36215;&#19968;&#20010;&#26032;&#30340;&#26381;&#21153;&#23454;&#20363;&#65292;&#36825;&#23601;&#35201;&#27714;&#31995;&#32479;&#35201;&#33021;&#24555;&#36895;&#21551;&#21160;&#65292;&#24517;&#39035;&#26159;&#27627;&#31186;&#32423;&#65307;&#22914;&#26524;&#25353; CPU &#19982;&#20869;&#23384;&#30340;&#29992;&#37327;&#26469;&#35745;&#36153;&#65292;&#37027;&#26381;&#21153;&#21344;&#29992;&#30340;&#20869;&#23384;&#23601;&#35201;&#23613;&#21487;&#33021;&#23569;&#65292;&#35201;&#22312;&#23613;&#21487;&#33021;&#30701;&#30340;&#26102;&#38388;&#20869;&#36798;&#21040;&#24615;&#33021;&#23792;&#20540;&#8230;&#8230;</p><p>&#38754;&#23545;&#36825;&#20123;&#26032;&#25361;&#25112;&#65292;Quarkus &#21644; Micronaut &#36825;&#26679;&#30340;&#21518;&#36215;&#20043;&#31168; <span class="&#27880;&#37322;&#32534;&#21495;">1</span> &#37117;&#33021;&#36731;&#35013;&#19978;&#38453;&#65292;&#30452;&#25509;&#38754;&#21521;&#20113;&#21407;&#29983;&#24212;&#29992;&#25552;&#20379;&#25903;&#25345;&#65292;&#32780;&#36816;&#34892;&#22312;&#20256;&#32479; JVM &#19978;&#30340; Spring &#31995;&#32479;&#22810;&#23569;&#26377;&#20123;&#21147;&#19981;&#20174;&#24515;&#65292;&#22909;&#22312; Spring &#23478;&#26063;&#20063;&#32473;&#20986;&#20102;&#33258;&#24049;&#30340;&#35299;&#20915;&#26041;&#26696;&#8212;&#8212;Spring Native&#12290;</p><p class="&#27880;&#37322;&#20869;&#23481;"><span class="&#27880;&#37322;&#32534;&#21495;&#19979;">1</span>Quarkus &#26159;&#30001; RedHat &#24320;&#21457;&#30340;&#24494;&#26381;&#21153;&#26694;&#26550;&#65307;Micronaut &#21017;&#26159;&#30001; ObjectComputing &#32500;&#25252;&#30340;&#65292;&#36825;&#20063;&#26159; Grails &#30340;&#24320;&#21457;&#22242;&#38431;&#12290;</p><h2 id="nav_point_268">C.1&#12288;GraalVM &#19982; Spring Native</h2><p>&#22312;&#24320;&#22987;&#20171;&#32461; Spring Native &#20043;&#21069;&#65292;&#20808;&#35753;&#25105;&#20204;&#26469;&#20102;&#35299;&#19968;&#19979; GraalVM&#65292;&#26080;&#35770; Spring Native&#65292;&#36824;&#26159; Quarkus&#65292;&#37117;&#38656;&#35201;&#20381;&#25176;&#20110; GraalVM &#26469;&#23454;&#29616;&#19968;&#20123;&#29305;&#23450;&#30340;&#21151;&#33021;&#12290;</p><h3 id="nav_point_269">C.1.1&#12288;GraalVM &#31616;&#20171;</h3><p>GraalVM &#26159; Oracle &#24320;&#21457;&#30340;&#19968;&#27454;&#39640;&#24615;&#33021; JDK &#21457;&#34892;&#29256; <span class="&#27880;&#37322;&#32534;&#21495;">2</span>&#65292;&#23448;&#32593;&#19978;&#32599;&#21015;&#20102;&#23427;&#30340;&#20960;&#20010;&#37325;&#35201;&#29305;&#24615;&#12290;</p><p class="&#27880;&#37322;&#20869;&#23481;"><span class="&#27880;&#37322;&#32534;&#21495;&#19979;">2</span>JDK &#20013;&#19981;&#20165;&#21253;&#21547;&#32534;&#35793;&#22120;&#65292;&#20063;&#21253;&#21547;&#20102; JVM &#34394;&#25311;&#26426;&#12290;</p><ul>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;">&#39640;&#24615;&#33021;&#65292;GraalVM &#25552;&#20379;&#20102;&#32463;&#36807;&#20248;&#21270;&#30340; Graal &#32534;&#35793;&#22120;&#65292;&#36825;&#26159;&#19968;&#27454; JIT&#65288;Just in Time&#65289;&#32534;&#35793;&#22120;&#65292;&#21487;&#20197;&#29983;&#25104;&#26356;&#24555;&#12289;&#26356;&#31934;&#31616;&#12289;&#21344;&#29992;&#36164;&#28304;&#26356;&#23569;&#30340;&#20195;&#30721;&#12290;</li>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;">AOT&#65288;Ahead of Time&#65289;&#26412;&#22320;&#38236;&#20687;&#32534;&#35793;&#65292;&#20107;&#20808;&#25226; Java &#24212;&#29992;&#32534;&#35793;&#20026;&#26412;&#22320;&#38236;&#20687;&#65292;&#20570;&#21040;&#21551;&#21160;&#36805;&#36895;&#65292;&#26080;&#39035;&#39044;&#28909;&#23601;&#33021;&#36798;&#21040;&#24615;&#33021;&#23792;&#20540;&#12290;</li>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;">&#22810;&#35821;&#35328;&#25903;&#25345;&#65292;&#33021;&#22815;&#36731;&#26494;&#22320;&#25903;&#25345;&#22810;&#31181;&#35821;&#35328;&#65292;&#19981;&#20165;&#33021;&#20026; Java &#24212;&#29992;&#25552;&#36895;&#65292;&#36824;&#25903;&#25345;&#22522;&#20110; JVM &#30340;&#20854;&#20182;&#35821;&#35328;&#65292;&#20363;&#22914; Ruby &#21644; Python<span class="&#27880;&#37322;&#32534;&#21495;">3</span>&#12290;</li>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;">&#39640;&#32423;&#24037;&#20855;&#65292;&#25552;&#20379;&#20102;&#21253;&#21547;&#35843;&#35797;&#12289;&#30417;&#25511;&#12289;&#32534;&#35793;&#31561;&#22810;&#31181;&#24037;&#20855;&#12290;</li>
</ul><p class="&#27880;&#37322;&#20869;&#23481;"><span class="&#27880;&#37322;&#32534;&#21495;&#19979;">3</span>Ruby &#26377;&#22522;&#20110; JVM &#30340; JRuby&#65292;Python &#21017;&#26377; Jython&#12290;</p><p>GraalVM &#26412;&#22320;&#38236;&#20687;&#26159;&#20010;&#21033;&#22120;&#65292;&#34429;&#28982;&#22909;&#22788;&#24456;&#22810;&#65292;&#20294;&#21463;&#38480;&#20110;&#20854;&#38745;&#24577;&#29305;&#24615;&#65292;&#20063;&#24102;&#26469;&#20102;&#19968;&#20123;&#19981;&#21464;&#19982;&#23616;&#38480;&#65292;&#20363;&#22914;&#65306;</p><ul>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;">&#26080;&#27861;&#36827;&#34892;&#21160;&#24577;&#31867;&#21152;&#36733;&#65292;&#38656;&#35201;&#22312;&#32534;&#35793;&#26399;&#38388;&#25552;&#20379;&#22823;&#37327;&#30340;&#31867;&#20449;&#24687;&#65288;&#20363;&#22914; <code>Class.forName()</code> &#21644; <code>ServiceLoader.load()</code> &#20013;&#30340;&#31867;&#65289;&#65292;&#32780;&#19988;&#36825;&#20123;&#31867;&#37117;&#38656;&#35201;&#36827;&#34892;&#39069;&#22806;&#37197;&#32622;&#25165;&#33021;&#32534;&#35793;&#21040;&#38236;&#20687;&#37324;&#65307;</li>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;">&#36816;&#34892;&#36807;&#31243;&#20013;&#30340;&#21453;&#23556;&#20869;&#23481;&#65292;&#38656;&#35201;&#22312;&#32534;&#35793;&#26102;&#29992;&#37197;&#32622;&#26126;&#30830;&#19979;&#26469;&#65307;</li>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;">&#21160;&#24577;&#20195;&#29702;&#30340;&#31867;&#20449;&#24687;&#65292;&#26377;&#19968;&#37096;&#20998;&#21487;&#20197;&#33258;&#21160;&#25512;&#26029;&#65292;&#20294;&#20173;&#26377;&#19981;&#23569;&#24773;&#20917;&#38656;&#35201;&#20107;&#20808;&#22312;&#32534;&#35793;&#26102;&#36827;&#34892;&#37197;&#32622;&#65307;</li>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;"><code>invokedynamic</code> &#30340;&#20351;&#29992;&#20250;&#21463;&#21040;&#38480;&#21046;&#65292;&#31867;&#20284; Lambda &#34920;&#36798;&#24335;&#36825;&#26679;&#30340;&#20869;&#23481;&#20173;&#33021;&#32487;&#32493;&#20351;&#29992;&#65292;&#20294;&#22312;&#36816;&#34892;&#26102;&#20250;&#24341;&#20837;&#19981;&#30830;&#23450;&#24615;&#30340;&#21151;&#33021;&#21017;&#26080;&#27861;&#25903;&#25345;&#12290;</li>
</ul><p>&#19978;&#38754;&#36824;&#21482;&#26159;&#32599;&#21015;&#20102;&#19968;&#37096;&#20998;&#38382;&#39064;&#65292;&#22312;&#19979;&#25991;&#20013;&#65292;&#25105;&#20204;&#20250;&#29992; GraalVM &#26469;&#29983;&#25104;&#19968;&#20010;&#38745;&#24577;&#30340;&#26412;&#22320;&#38236;&#20687;&#65292;&#23626;&#26102;&#22823;&#23478;&#23601;&#20250;&#30475;&#21040;&#25105;&#20204;&#22312;&#26377;&#20102; Spring Native &#30340;&#24110;&#21161;&#21518;&#65292;&#20173;&#28982;&#38656;&#35201;&#36827;&#34892;&#19981;&#23569;&#32534;&#35793;&#26102;&#37197;&#32622;&#21644;&#20195;&#30721;&#35843;&#25972;&#25165;&#33021;&#39034;&#21033;&#35753;&#31243;&#24207;&#36816;&#34892;&#36215;&#26469;&#12290;&#24635;&#20043;&#65292;&#19968;&#20999;&#30340;&#22909;&#22788;&#37117;&#26159;&#26377;&#20195;&#20215;&#30340;&#12290;</p><h3 id="nav_point_270">C.1.2&#12288;Spring Native &#31616;&#20171;</h3><p>Spring Framework &#20013;&#22823;&#37327;&#20351;&#29992;&#20102;&#21160;&#24577;&#20195;&#29702;&#25216;&#26415;&#65292;&#23588;&#20854;&#26159; AOP &#22686;&#24378;&#30340;&#37096;&#20998;&#65292;&#37117;&#26159;&#30001; JDK &#21160;&#24577;&#20195;&#29702;&#25110;&#32773; CGLIB &#20195;&#30721;&#22686;&#24378;&#26469;&#23454;&#29616;&#30340;&#12290;&#32780;&#22312;&#24037;&#31243;&#20013;&#29992;&#21040;&#30340;&#21508;&#31181;&#31867;&#24211;&#20063;&#21516;&#26679;&#23384;&#22312;&#26377;&#24726;&#8220;&#38745;&#24577;&#8221;&#21407;&#21017;&#30340;&#22320;&#26041;&#65292;&#27809;&#26377;&#24213;&#23618;&#26694;&#26550;&#30340;&#21152;&#25345;&#65292;&#23436;&#20840;&#20381;&#38752;&#20154;&#26469;&#36827;&#34892;&#32534;&#35793;&#26399;&#30340;&#37197;&#32622;&#23558;&#26159;&#19968;&#20010;&#24040;&#22823;&#30340;&#24037;&#31243;&#12290;&#29305;&#21035;&#26159; Spring &#21457;&#23637;&#20102;&#36825;&#20040;&#22810;&#24180;&#65292;&#26377;&#30528;&#22797;&#26434;&#30340;&#29983;&#24577;&#65292;&#29983;&#24577;&#20869;&#30340;&#25104;&#21592;&#20043;&#38388;&#24444;&#27492;&#20132;&#38169;&#65292;&#34429;&#28982; Spring Framework &#20174; 5.3 &#29256;&#26412;&#24320;&#22987;&#23545; GraalVM &#25552;&#20379;&#20102;&#36739;&#20026;&#23436;&#25972;&#30340;&#25903;&#25345;&#65292;&#20294;&#35201;&#35753;&#19968;&#20010; Spring &#24037;&#31243;&#8220;&#38745;&#24577;&#21270;&#8221;&#36824;&#26159;&#24456;&#22256;&#38590;&#12290;</p><p>&#20986;&#20110;&#19978;&#36848;&#21407;&#22240;&#65292;Spring Native<span class="&#27880;&#37322;&#32534;&#21495;">4</span> &#39033;&#30446;&#35806;&#29983;&#20102;&#65292;&#23427;&#30340;&#30446;&#30340;&#23601;&#26159;&#20026;&#37027;&#20123;&#24819;&#36890;&#36807; GraalVM &#23558; Spring &#24212;&#29992;&#32534;&#35793;&#20026;&#26412;&#22320;&#38236;&#20687;&#30340;&#39033;&#30446;&#25552;&#20379;&#25903;&#25345;&#12290;&#23427;&#30001;&#22810;&#20010;&#27169;&#22359;&#26500;&#25104;&#65292;&#20027;&#35201;&#21253;&#25324;&#65306;</p><p class="&#27880;&#37322;&#20869;&#23481;"><span class="&#27880;&#37322;&#32534;&#21495;&#19979;">4</span>&#39033;&#30446;&#26089;&#26399;&#30340;&#21517;&#23383;&#20026; Spring GraalVM Native&#65292;&#21518;&#26469;&#25913;&#20026; Spring Native&#12290;&#21518;&#32493; Spring Native &#30340;&#37096;&#20998;&#21151;&#33021;&#20063;&#26377;&#21487;&#33021;&#20250;&#21512;&#24182;&#21040; Spring Framework &#20013;&#65292;&#20363;&#22914; AOT &#30456;&#20851;&#30340;&#20869;&#23481;&#12290;</p><ul>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;">spring-native &#19982; spring-native-configuration&#65292;Spring Native &#30340;&#30456;&#20851;&#20381;&#36182;&#19982;&#37197;&#32622;&#65307;</li>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;">spring-aot&#12289;spring-aot-test&#12289;spring-aot-maven-plugin &#19982; spring-aot-gradle-plugin&#65292;AOT &#29983;&#25104;&#30456;&#20851;&#30340;&#22522;&#30784;&#35774;&#26045;&#19982;&#25554;&#20214;&#65307;</li>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;">spring-native-tools&#65292;&#19968;&#20123;&#32534;&#35793;&#36807;&#31243;&#20013;&#20250;&#29992;&#21040;&#30340;&#24037;&#20855;&#32452;&#21512;&#12290;</li>
</ul><p>Spring Native &#20026;&#22823;&#23478;&#22788;&#29702;&#20102;&#24456;&#22810;&#32321;&#29712;&#30340;&#24037;&#20316;&#65292;&#32780;&#36825;&#20123;&#20869;&#23481;&#20250;&#38543;&#30528;&#23454;&#38469;&#20351;&#29992;&#30340;&#26694;&#26550;&#29256;&#26412;&#21644; GraalVM &#29256;&#26412;&#21457;&#29983;&#21464;&#21270;&#65292;&#22240;&#27492; Spring Native &#30340;&#29256;&#26412;&#20250;&#19982; Spring Boot&#65288;&#19982;&#20854;&#24213;&#23618;&#30340; Spring Framework&#65289;&#21644; GraalVM &#29256;&#26412;&#24378;&#30456;&#20851;&#65292;&#20197;&#26412;&#38468;&#24405;&#20013;&#23558;&#29992;&#21040;&#30340; 0.11.5 &#20026;&#20363;&#65292;&#23427;&#19982;&#20854;&#20182;&#26694;&#26550;&#21450;&#30456;&#20851;&#20869;&#23481;&#30340;&#23545;&#24212;&#21450;&#29256;&#26412;&#20851;&#31995;&#22914;&#34920; C-1 &#25152;&#31034;&#12290;</p><p><strong>&#34920; C-1&#12288;Spring Native &#19982;&#20854;&#20182;&#26694;&#26550;&#21450;&#30456;&#20851;&#20869;&#23481;&#30340;&#23545;&#24212;&#21450;&#29256;&#26412;&#20851;&#31995;</strong></p><table border="1" width="90%">
<thead>
<tr>
<th><p class="&#34920;&#22836;&#21333;&#20803;&#26684;">&#20869;&#23481;</p></th>
<th><p class="&#34920;&#22836;&#21333;&#20803;&#26684;">&#29256;&#26412;</p></th>
</tr>
</thead>
<tbody>
<tr>
<td><p class="&#34920;&#26684;&#21333;&#20803;&#26684;">Spring Native</p></td>
<td><p class="&#34920;&#26684;&#21333;&#20803;&#26684;">0.11.5</p></td>
</tr>
<tr>
<td><p class="&#34920;&#26684;&#21333;&#20803;&#26684;">Java</p></td>
<td><p class="&#34920;&#26684;&#21333;&#20803;&#26684;">11 &#19982; 17</p></td>
</tr>
<tr>
<td><p class="&#34920;&#26684;&#21333;&#20803;&#26684;">GraalVM</p></td>
<td><p class="&#34920;&#26684;&#21333;&#20803;&#26684;">22.0.0</p></td>
</tr>
<tr>
<td><p class="&#34920;&#26684;&#21333;&#20803;&#26684;">Spring Boot</p></td>
<td><p class="&#34920;&#26684;&#21333;&#20803;&#26684;">2.6.7</p></td>
</tr>
<tr>
<td><p class="&#34920;&#26684;&#21333;&#20803;&#26684;">Spring Cloud<span class="&#27880;&#37322;&#32534;&#21495;">5</span></p></td>
<td><p class="&#34920;&#26684;&#21333;&#20803;&#26684;">2021.0.1</p></td>
</tr>
</tbody>
</table><p class="&#27880;&#37322;&#20869;&#23481;"><span class="&#27880;&#37322;&#32534;&#21495;&#19979;">5</span>&#36825;&#37324;&#30340; Spring Boot &#21644; Spring Cloud &#37117;&#19981;&#26159;&#23436;&#25972;&#25903;&#25345;&#30340;&#65292;&#26377;&#20123;&#21487;&#20197;&#26080;&#39035;&#39069;&#22806;&#37197;&#32622;&#30452;&#25509;&#25903;&#25345;&#65292;&#26377;&#30340;&#21364;&#19981;&#34892;&#12290;&#20855;&#20307;&#21487;&#20197;&#21442;&#32771; Spring Native &#23448;&#26041;&#25991;&#26723;&#20102;&#35299;&#35814;&#32454;&#30340;&#25903;&#25345;&#21644;&#37197;&#32622;&#20449;&#24687;&#12290;</p><p>&#22312; Spring Native &#30340;&#24110;&#21161;&#19979;&#65292;&#21407;&#20808;&#36965;&#19981;&#21487;&#21450;&#30340;&#30446;&#26631;&#65292;&#21464;&#24471;&#36339;&#19968;&#36339;&#23601;&#33021;&#24471;&#21040;&#20102;&#12290;&#25509;&#19979;&#26469;&#65292;&#35753;&#25105;&#20204;&#32487;&#32493;&#29992;&#31532; 10 &#31456;&#30340; binarytea-jwt-auth &#20316;&#20026;&#20363;&#23376; <span class="&#27880;&#37322;&#32534;&#21495;">6</span>&#65292;&#28436;&#31034;&#19968;&#19979;&#22914;&#20309;&#23558;&#19968;&#20010;&#30456;&#23545;&#22797;&#26434;&#30340; Spring &#24037;&#31243;&#32534;&#35793;&#20026;&#26412;&#22320;&#38236;&#20687;&#12290;<span class="&#27880;&#37322;&#32534;&#21495;">7</span></p><p class="&#27880;&#37322;&#20869;&#23481;"><span class="&#27880;&#37322;&#32534;&#21495;&#19979;">6</span>&#36825;&#20010;&#20363;&#23376;&#22312; app3/binarytea &#39033;&#30446;&#20013;&#12290;</p><p class="&#27880;&#37322;&#20869;&#23481;"><span class="&#27880;&#37322;&#32534;&#21495;&#19979;">7</span>&#32593;&#19978;&#26377;&#20123;&#20171;&#32461; Spring Native &#30340;&#25991;&#31456;&#65292;&#20854;&#20013;&#20351;&#29992;&#30340;&#20363;&#23376;&#23601;&#26159; Hello World &#32423;&#21035;&#30340;&#65292;&#27809;&#26377;&#22826;&#22810;&#20381;&#36182;&#12290;&#30456;&#27604;&#20043;&#19979;&#65292;&#25105;&#20204;&#30340; binarytea-jwt-auth &#24050;&#32463;&#26159;&#22797;&#26434;&#30340;&#20102;&#12290;&#20294;&#36825;&#20010;&#20363;&#23376;&#21644;&#23454;&#38469;&#30340;&#24037;&#31243;&#20043;&#38388;&#20381;&#28982;&#26377;&#24456;&#22823;&#24046;&#21035;&#65292;&#23454;&#38469;&#24773;&#20917;&#36890;&#24120;&#20250;&#26356;&#22797;&#26434;&#12290;</p><blockquote>
<p><strong>&#35831;&#27880;&#24847;</strong>&#12288;&#36825;&#37324;&#35201;&#20877;&#27425;&#24378;&#35843;&#19968;&#19979;&#65292;&#34429;&#28982;&#26377; Spring Native&#65292;&#20294;&#36825;&#24182;&#19981;&#20195;&#34920;&#23558;&#19968;&#20010;&#24050;&#26377;&#30340; Spring &#39033;&#30446;&#32534;&#35793;&#20026;&#26412;&#22320;&#38236;&#20687;&#23601;&#24456;&#23481;&#26131;&#12290;&#36825;&#20010;&#36807;&#31243;&#20013;&#19981;&#20165;&#38656;&#35201;&#35843;&#25972;&#20381;&#36182;&#32452;&#20214;&#30340;&#29256;&#26412;&#65292;&#36824;&#26377;&#21487;&#33021;&#35201;&#35843;&#25972;&#20195;&#30721;&#65292;&#26377;&#26102;&#36824;&#19981;&#24471;&#19981;&#25918;&#24323;&#19968;&#20123;&#21151;&#33021;&#12290;&#22914;&#26524;&#19968;&#20010;&#24037;&#31243;&#36305;&#24471;&#22909;&#22909;&#30340;&#65292;&#27809;&#26377;&#38750;&#29992; GraalVM &#26412;&#22320;&#38236;&#20687;&#19981;&#21487;&#30340;&#29702;&#30001;&#65292;&#37027;&#36824;&#26159;&#35753;&#23427;&#32500;&#25345;&#29616;&#29366;&#21543;&#12290;</p>
</blockquote><h2 id="nav_point_271">C.2&#12288;&#32534;&#35793;&#25171;&#21253;&#26412;&#22320;&#38236;&#20687;</h2><p>&#35201;&#23558;&#19968;&#20010; Spring &#39033;&#30446;&#32534;&#35793;&#25171;&#21253;&#20026; GraalVM &#26412;&#22320;&#38236;&#20687;&#65292;&#25972;&#20307;&#19978;&#20998;&#20026;&#19977;&#20010;&#27493;&#39588;&#65306;</p><p>(1) &#21069;&#26399;&#30340;&#29615;&#22659;&#20934;&#22791;&#65292;&#20027;&#35201;&#26159;&#23433;&#35013; GraalVM &#30456;&#20851;&#30340;&#20869;&#23481;&#65307;</p><p>(2) &#35843;&#25972; Maven &#25110;&#32773; Gradle &#32534;&#35793;&#25171;&#21253;&#30340;&#37197;&#32622;&#65307;</p><p>(3) &#26681;&#25454;&#25171;&#21253;&#20135;&#29289;&#25191;&#34892;&#30340;&#24773;&#20917;&#35843;&#25972;&#20195;&#30721; <span class="&#27880;&#37322;&#32534;&#21495;">8</span>&#12290;</p><p class="&#27880;&#37322;&#20869;&#23481;"><span class="&#27880;&#37322;&#32534;&#21495;&#19979;">8</span>&#36825;&#37324;&#30495;&#30340;&#26159;&#38656;&#35201;&#26681;&#25454;&#23454;&#38469;&#25171;&#21253;&#21518;&#20135;&#29289;&#30340;&#25191;&#34892;&#24773;&#20917;&#26469;&#30475;&#30340;&#65292;&#21453;&#22797;&#23581;&#35797;&#65292;&#25171;&#21253;&#21518;&#38656;&#35201;&#25226;&#25152;&#26377;&#30340;&#27979;&#35797;&#26696;&#20363;&#37117;&#25191;&#34892;&#19968;&#19979;&#65292;&#36991;&#20813;&#36793;&#36793;&#35282;&#35282;&#30340;&#21151;&#33021;&#20986;&#38382;&#39064;&#12290;&#36234;&#26159;&#22797;&#26434;&#30340;&#39033;&#30446;&#36234;&#26377;&#21487;&#33021;&#38656;&#35201;&#35843;&#25972;&#20195;&#30721;&#65292;&#26377;&#26102;&#26159;&#29992;&#21040;&#30340;&#24211;&#19981;&#25903;&#25345;&#65292;&#36824;&#38656;&#35201;&#33258;&#24049;&#26469;&#35843;&#25972;&#24211;&#37324;&#30340;&#19996;&#35199;&#12290;</p><p>&#19979;&#38754;&#25105;&#20204;&#20250;&#35814;&#32454;&#25286;&#35299;&#36825;&#19977;&#20010;&#27493;&#39588;&#65292;&#20180;&#32454;&#30475;&#30475;&#27599;&#27493;&#37117;&#35201;&#20570;&#20123;&#20160;&#20040;&#20107;&#24773;&#12290;</p><h3 id="nav_point_272">C.2.1&#12288;&#20934;&#22791;&#24037;&#20316;</h3><p>&#36825;&#37324;&#30340;&#20934;&#22791;&#20027;&#35201;&#26159;&#25351;&#20934;&#22791;&#32534;&#35793;&#25171;&#21253;&#30340;&#29615;&#22659;&#65292;&#20063;&#23601;&#26159;&#23433;&#35013;&#31526;&#21512;&#29256;&#26412;&#35201;&#27714;&#30340; GraalVM&#12290;&#22312; macOS &#19979;&#21487;&#20197;&#20351;&#29992; SDKMAN&#65292;Windows &#29615;&#22659;&#21017;&#20174;&#23448;&#32593;&#19979;&#36733;&#23433;&#35013;&#21253;&#21363;&#21487;&#12290;&#19979;&#38754;&#26159; SDKMAN &#30340;&#23433;&#35013;&#21629;&#20196;&#65292;&#20808;&#29992; <code>sdk list java</code> &#25214;&#21040;&#21512;&#36866;&#30340; GraalVM &#29256;&#26412;&#65292;&#20363;&#22914;&#36825;&#37324;&#23601;&#26159; 22.0.0.2.r11-grl<span class="&#27880;&#37322;&#32534;&#21495;">9</span>&#65292;&#28982;&#21518;&#25191;&#34892;&#22914;&#19979;&#21629;&#20196;&#23433;&#35013;&#65306;</p><p class="&#27880;&#37322;&#20869;&#23481;"><span class="&#27880;&#37322;&#32534;&#21495;&#19979;">9</span>&#22914;&#26524;&#20351;&#29992;&#20102;&#33529;&#26524; M1 &#33455;&#29255;&#30340;&#30005;&#33041;&#65292;&#25903;&#25345; macOS ARM 64 &#20301;&#30340; GraalVM &#29256;&#26412;&#26159;&#20174; 22.1.0 &#24320;&#22987;&#30340;&#12290;&#32463;&#23581;&#35797;&#65292;Spring Native 0.11.5 &#20063;&#21487;&#20197;&#20351;&#29992; GraalVM 22.1.0.r11-grl&#12290;</p><pre class="&#20195;&#30721;&#26080;&#34892;&#21495;"><code>&#9656; sdk install java 22.0.0.2.r11-grl</code></pre><p>&#38543;&#21518;&#23558; Java &#20999;&#25442;&#21040;&#21018;&#25165;&#23433;&#35013;&#30340; GraalVM&#65292;&#25110;&#32773;&#30452;&#25509;&#23558;&#23427;&#20316;&#20026;&#40664;&#35748;&#30340; Java &#29615;&#22659;&#65292;&#28982;&#21518;&#29992; <code>gu</code> &#21629;&#20196;&#23433;&#35013; native-image &#24037;&#20855;&#12290;&#20855;&#20307;&#21629;&#20196;&#22914;&#19979;&#65306;</p><pre class="&#20195;&#30721;&#26080;&#34892;&#21495;"><code>&#9656; sdk use java 22.0.0.2.r11-grl

Using java version 22.0.0.2.r11-grl in this shell.

&#9656; gu install native-image
Downloading: Release index file from oca.opensource.oracle.com
Downloading: Component catalog for GraalVM Enterprise Edition 22.0.0 on jdk11 from oca.opensource.oracle.com
Downloading: Component catalog for GraalVM Enterprise Edition 22.0.0.1 on jdk11 from oca.opensource.oracle.com
Downloading: Component catalog from www.graalvm.org
Processing Component: Native Image
Downloading: Component native-image: Native Image from github.com
Installing new component: Native Image (org.graalvm.native-image, version 22.0.0.2)</code></pre><h3 id="nav_point_273">C.2.2&#12288;&#35843;&#25972;&#32534;&#35793;&#25171;&#21253;&#37197;&#32622;</h3><p>&#29616;&#22312;&#26469;&#35843;&#25972; Maven &#37197;&#32622;&#12290;&#21069;&#38754;&#20171;&#32461;&#36807;&#65292;&#25105;&#20204;&#36825;&#37324;&#20351;&#29992; Spring Native 0.11.5 &#38656;&#35201;&#25645;&#37197; Spring Boot 2.6.7&#65292;&#22240;&#27492;&#38656;&#35201;&#26356;&#25442; <code>&lt;parent/&gt;</code> &#37324; spring-boot-starter-parent &#30340;&#29256;&#26412;&#65292;&#23558;&#23427;&#35843;&#25972;&#20026; 2.6.7&#65292;&#24182;&#22312;&#20381;&#36182;&#20013;&#22686;&#21152; Spring Native &#30340;&#20381;&#36182;&#65292;&#20855;&#20307;&#22914;&#20195;&#30721;&#31034;&#20363; C-1 &#25152;&#31034;&#12290;Spring Boot 2.6.7 &#37324; Jackson JSON &#30340;&#29256;&#26412;&#21319;&#32423;&#21040;&#20102; 2.13.2&#65292;&#25152;&#20197;&#36824;&#38656;&#35201;&#21516;&#27493;&#35843;&#25972; jackson-datatype-joda-money &#21644; jackson-datatype-hibernate5 &#30340;&#29256;&#26412;&#65292;&#27492;&#22788;&#23601;&#19981;&#20877;&#36184;&#36848;&#20102;&#12290;</p><blockquote>
<p><strong>&#20195;&#30721;&#31034;&#20363; C-1</strong>&#12288;&#35843;&#25972; Spring Boot &#29256;&#26412;&#24182;&#22686;&#21152; Spring Native &#20381;&#36182;</p>
</blockquote><pre class="&#20195;&#30721;&#26080;&#34892;&#21495;"><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.6.7&lt;/version&gt;
        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
    &lt;/parent&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;
            &lt;artifactId&gt;spring-native&lt;/artifactId&gt;
            &lt;version&gt;0.11.5&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!-- &#30465;&#30053;&#20854;&#20182;&#20869;&#23481; --&gt;
    &lt;/dependencies&gt;
    &lt;!-- &#30465;&#30053;&#20854;&#20182;&#20869;&#23481; --&gt;
&lt;/project&gt;</code></pre><p>&#22312; Maven &#26500;&#24314;&#30340;&#25554;&#20214;&#37096;&#20998;&#65292;&#38656;&#35201;&#22686;&#21152;&#20004;&#20010;&#25554;&#20214;&#65292;&#20855;&#20307;&#22914;&#20195;&#30721;&#31034;&#20363; C-2 &#25152;&#31034;&#12290;</p><ul>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;">spring-aot-maven-plugin&#65292;&#22686;&#21152; AOT &#30456;&#20851;&#33021;&#21147;&#30340;&#25903;&#25345;&#12290;</li>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;">hibernate-enhance-maven-plugin&#65292;&#22312;&#24037;&#31243;&#20013;&#20351;&#29992;&#20102; Hibernate&#65292;&#23427;&#20250;&#24341;&#20837;&#19968;&#20123;&#23383;&#33410;&#30721;&#22686;&#24378;&#65292;&#36890;&#36807;&#36825;&#20010;&#25554;&#20214;&#21487;&#20197;&#23454;&#29616;&#26500;&#24314;&#26102;&#30340;&#23383;&#33410;&#30721;&#22686;&#24378;&#65292;&#32780;&#38750;&#36816;&#34892;&#26102;&#12290;</li>
</ul><blockquote>
<p><strong>&#20195;&#30721;&#31034;&#20363; C-2</strong>&#12288;&#22686;&#21152;&#20004;&#20010;&#26500;&#24314;&#39033;&#30446;&#30340;&#25554;&#20214;</p>
</blockquote><pre class="&#20195;&#30721;&#26080;&#34892;&#21495;"><code>&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;
            &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;0.11.5&lt;/version&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;id&gt;generate&lt;/id&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;generate&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.hibernate.orm.tooling&lt;/groupId&gt;
            &lt;artifactId&gt;hibernate-enhance-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;${hibernate.version}&lt;/version&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;configuration&gt;
                        &lt;failOnError&gt;true&lt;/failOnError&gt;
                        &lt;enableLazyInitialization&gt;true&lt;/enableLazyInitialization&gt;
                        &lt;enableDirtyTracking&gt;true&lt;/enableDirtyTracking&gt;
                        &lt;enableAssociationManagement&gt;true&lt;/enableAssociationManagement&gt;
                        &lt;enableExtendedEnhancement&gt;false&lt;/enableExtendedEnhancement&gt;
                    &lt;/configuration&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;enhance&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;</code></pre><p>&#36825;&#37324;&#29992;&#21040;&#30340;&#19968;&#20123; Spring &#20381;&#36182;&#21644;&#25554;&#20214;&#21487;&#33021;&#36824;&#26410;&#21457;&#24067;&#21040;&#20844;&#20849; Maven &#20179;&#24211;&#65292;&#25152;&#20197;&#25105;&#20204;&#36824;&#38656;&#35201;&#39069;&#22806;&#28155;&#21152; Spring &#30340;&#20179;&#24211;&#65292;&#21487;&#20197;&#22686;&#21152;&#20195;&#30721;&#31034;&#20363; C-3 &#20013;&#30340;&#37197;&#32622;&#12290;</p><blockquote>
<p><strong>&#20195;&#30721;&#31034;&#20363; C-3</strong>&#12288;&#39069;&#22806;&#22686;&#21152; Spring &#30340; Maven &#20179;&#24211;</p>
</blockquote><pre class="&#20195;&#30721;&#26080;&#34892;&#21495;"><code>&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;spring-release&lt;/id&gt;
        &lt;name&gt;Spring release&lt;/name&gt;
        &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;
&lt;pluginRepositories&gt;
    &lt;pluginRepository&gt;
        &lt;id&gt;spring-release&lt;/id&gt;
        &lt;name&gt;Spring release&lt;/name&gt;
        &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;
    &lt;/pluginRepository&gt;
&lt;/pluginRepositories&gt;</code></pre><p>&#26368;&#21518;&#19968;&#27493;&#65292;&#22686;&#21152; GraalVM &#26500;&#24314;&#26412;&#22320;&#38236;&#20687;&#30340;&#26500;&#24314;&#21160;&#20316;&#12290;spring-boot-maven-plugin &#26412;&#36523;&#22312;&#26500;&#24314;&#36807;&#31243;&#20013;&#20250;&#21019;&#24314; Fat Jar&#65292;&#20026;&#20102;&#21152;&#20197;&#21306;&#20998;&#65292;&#25105;&#20204;&#22686;&#21152;&#19968;&#20010; <code>native</code>Profile&#65292;&#25226; native-maven-plugin &#37197;&#32622;&#22312;&#36825;&#20010; Profile &#37324;&#12290;&#21516;&#26102;&#65292;&#20026; spring-boot-maven-plugin &#37197;&#32622; <code>classifier</code>&#65292;&#23427;&#30340;&#20540;&#20026; <code>exec</code>&#12290;&#20855;&#20307;&#22914;&#20195;&#30721;&#31034;&#20363; C-4 &#25152;&#31034;&#12290;</p><blockquote>
<p><strong>&#20195;&#30721;&#31034;&#20363; C-4</strong>&#12288;&#22686;&#21152;&#32534;&#35793;&#26412;&#22320;&#38236;&#20687;&#30340; Maven Profile</p>
</blockquote><pre class="&#20195;&#30721;&#26080;&#34892;&#21495;"><code>&lt;profiles&gt;
    &lt;profile&gt;
        &lt;id&gt;native&lt;/id&gt;
        &lt;build&gt;
            &lt;plugins&gt;
                &lt;plugin&gt;
                    &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;
                    &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;
                    &lt;version&gt;0.9.11&lt;/version&gt;
                    &lt;extensions&gt;true&lt;/extensions&gt;
                    &lt;executions&gt;
                        &lt;execution&gt;
                            &lt;id&gt;build-native&lt;/id&gt;
                            &lt;goals&gt;
                                &lt;goal&gt;build&lt;/goal&gt;
                            &lt;/goals&gt;
                            &lt;phase&gt;package&lt;/phase&gt;
                        &lt;/execution&gt;
                        &lt;execution&gt;
                            &lt;id&gt;test-native&lt;/id&gt;
                            &lt;goals&gt;
                                &lt;goal&gt;test&lt;/goal&gt;
                            &lt;/goals&gt;
                            &lt;phase&gt;test&lt;/phase&gt;
                        &lt;/execution&gt;
                    &lt;/executions&gt;
                &lt;/plugin&gt;
                &lt;!-- Avoid a clash between Spring Boot repackaging and native-maven-plugin --&gt;
                &lt;plugin&gt;
                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                    &lt;configuration&gt;
                        &lt;classifier&gt;exec&lt;/classifier&gt;
                    &lt;/configuration&gt;
                &lt;/plugin&gt;
            &lt;/plugins&gt;
        &lt;/build&gt;
        &lt;pluginRepositories&gt;
        &lt;!-- &#27492;&#22788;&#30465;&#30053;&#65292;&#20869;&#23481;&#21516;&#21069;&#25991;Spring&#30340;pluginRepositories --&gt;
        &lt;/pluginRepositories&gt;
    &lt;/profile&gt;
&lt;/profiles&gt;</code></pre><p>&#23436;&#25104;&#19978;&#36848; pom.xml &#35843;&#25972;&#21518;&#65292;&#23601;&#33021;&#25191;&#34892;&#19979;&#38754;&#30340; Maven &#21629;&#20196;&#36827;&#34892;&#26500;&#24314;&#20102;&#65292;&#20854;&#20013;&#30340; <code>-P</code> &#21442;&#25968;&#25351;&#23450;&#20102;&#20855;&#20307;&#20351;&#29992;&#30340; Profile&#65292;&#36825;&#37324;&#36339;&#36807;&#20102;&#27979;&#35797;&#12290;</p><pre class="&#20195;&#30721;&#26080;&#34892;&#21495;"><code>&#9656; mvn -Pnative -DskipTests clean package</code></pre><p>&#25191;&#34892;&#36807;&#31243;&#20013;&#65292;&#21487;&#20197;&#35266;&#23519;&#21040;&#22914;&#19979;&#36755;&#20986;&#65288;&#20998;&#20026; 7 &#20010;&#27493;&#39588;&#65292;&#20869;&#23481;&#20026;&#37096;&#20998;&#25130;&#21462;&#65289;&#65306;</p><pre class="&#20195;&#30721;&#26080;&#34892;&#21495;"><code>GraalVM Native Image: Generating 'binarytea' (executable)...

[1/7] Initializing...                                                                     (9.9s @ 0.40GB)
[2/7] Performing analysis... [************]                                              (99.6s @ 6.96GB)
  27,820 (94.62%) of 29,401 classes reachable
  47,951 (74.49%) of 64,373 fields reachable
 145,804 (67.90%) of 214,724 methods reachable


   1,572 classes,   975 fields, and 8,529 methods registered for reflection
      69 classes,    91 fields, and    55 methods registered for JNI access
[3/7] Building universe...                                                                (9.8s @ 5.70GB)
[4/7] Parsing methods...      [****]                                                     (14.6s @ 3.51GB)
[5/7] Inlining methods...     [*****]                                                    (16.2s @ 4.36GB)
[6/7] Compiling methods...    [********]                                                 (61.5s @ 6.08GB)
[7/7] Creating image...                                                                  (13.1s @ 6.19GB)
  59.22MB (45.37%) for code area:   95,488 compilation units
  60.22MB (46.13%) for image heap:  19,281 classes and 623,707 objects
  11.09MB ( 8.50%) for other data
 130.53MB in total

Finished generating 'binarytea' in 3m 56s.</code></pre><p>&#30456;&#27604;&#20256;&#32479;&#30340; Fat Jar&#65292;&#26412;&#22320;&#38236;&#20687;&#30340;&#26500;&#24314;&#21487;&#35859;&#30456;&#24403;&#32791;&#26102;&#65292;&#20197;&#27492;&#22788;&#20351;&#29992;&#30340; BinaryTea &#24037;&#31243;&#20026;&#20363;&#65292;&#22312; M1 &#33455;&#29255; 16G &#20869;&#23384;&#30340; MacBook Pro &#19978;&#38656;&#35201;&#22823;&#27010; 4 &#20998;&#38047;&#12290;<span class="&#27880;&#37322;&#32534;&#21495;">10</span> &#26500;&#24314;&#21518;&#30340;&#20135;&#29289;&#21517;&#20026; binarytea&#65292;&#22823;&#23567;&#22312; 120MB &#24038;&#21491;&#65292;&#26159;&#20010;&#21487;&#25191;&#34892;&#25991;&#20214;&#12290;&#34429;&#28982;&#26500;&#24314;&#33021;&#22815;&#25104;&#21151;&#65292;&#20294;&#26500;&#24314;&#30340;&#20135;&#29289;&#24182;&#19981;&#33021;&#27491;&#30830;&#36816;&#34892;&#65292;&#36824;&#38656;&#35201;&#26681;&#25454;&#38169;&#35823;&#25552;&#31034;&#20449;&#24687;&#36827;&#19968;&#27493;&#20462;&#25913;&#12290;</p><p class="&#27880;&#37322;&#20869;&#23481;"><span class="&#27880;&#37322;&#32534;&#21495;&#19979;">10</span>&#22312;&#26500;&#24314;&#26412;&#22320;&#38236;&#20687;&#26102;&#65292;&#23613;&#37327;&#39044;&#30041;&#36275;&#22815;&#30340;&#20869;&#23384;&#65292;&#36816;&#34892;&#30340;&#30005;&#33041;&#24314;&#35758;&#33267;&#23569;&#37197;&#32622; 8GB &#20869;&#23384;&#12290;</p><h3 id="nav_point_274">C.2.3&#12288;&#20462;&#25913;&#20195;&#30721;</h3><p>&#19981;&#20986;&#25152;&#26009;&#65292;BinaryTea &#24037;&#31243;&#26080;&#27861;&#22312;&#19981;&#21464;&#21160;&#20195;&#30721;&#30340;&#24773;&#20917;&#19979;&#32534;&#35793;&#20026;&#27491;&#30830;&#30340;&#26412;&#22320;&#38236;&#20687;&#65292;&#36935;&#21040;&#30340;&#38382;&#39064;&#24635;&#32467;&#22914;&#19979;&#12290;</p><ul>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;">&#20381;&#36182;&#30340;&#31867;&#24211;&#20013;&#23384;&#22312;&#21160;&#24577;&#21152;&#36733;&#31867;&#30340;&#24773;&#20917;&#65292;&#32780;&#19988;&#25968;&#37327;&#19981;&#23569;&#65292;Jadira UserType&#12289;JWT &#21644; Joda Money &#37117;&#26377;&#12290;</li>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;">Spring Security &#20013;&#26377;&#20195;&#30721;&#20351;&#29992;&#20102;&#21453;&#23556;&#26426;&#21046;&#33719;&#21462;&#23646;&#24615;&#12290;</li>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;">Java &#37197;&#32622;&#31867;&#20013;&#30340; <code>@Bean</code> &#26041;&#27861;&#26412;&#26469;&#20351;&#29992;&#20102; CGLIB &#23383;&#33410;&#30721;&#22686;&#24378;&#65292;&#29616;&#22312;&#31561;&#20110;&#21464;&#25104;&#20102; <code>@Configuration(proxyBeanMethods=false)</code>&#65292;&#37197;&#32622;&#38656;&#35201;&#35843;&#25972;&#12290;<span class="&#27880;&#37322;&#32534;&#21495;">11</span></li>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;">&#26377;&#20123;&#27880;&#35299;&#38656;&#35201;&#21160;&#24577;&#20195;&#29702;&#22686;&#24378;&#65292;&#20294;&#26500;&#24314;&#26102;&#24182;&#26410;&#27491;&#30830;&#35782;&#21035;&#65292;&#38656;&#35201;&#25552;&#20379;&#19968;&#20123;&#37197;&#32622;&#12290;</li>
</ul><p class="&#27880;&#37322;&#20869;&#23481;"><span class="&#27880;&#37322;&#32534;&#21495;&#19979;">11</span>&#20026;&#20102;&#26041;&#20415;&#25490;&#26597;&#21738;&#37324;&#30340; Bean &#23450;&#20041;&#23384;&#22312;&#38382;&#39064;&#65292;&#21487;&#20197;&#32771;&#34385;&#22312;&#27491;&#24120;&#24320;&#21457;&#26102;&#23601;&#22312; <code>@Configuration</code> &#37197;&#32622;&#31867;&#20013;&#20351;&#29992; <code>proxyBeanMethods=false</code>&#65292;&#20851;&#38381; CGLIB &#22686;&#24378;&#65292;&#25110;&#32773;&#20351;&#29992;&#26041;&#27861;&#21442;&#25968;&#27880;&#20837;&#20381;&#36182;&#12290;</p><p>&#38024;&#23545;&#36825;&#20123;&#38382;&#39064;&#65292;&#35753;&#25105;&#20204;&#30475;&#30475;&#24590;&#26679;&#36880;&#19968;&#35299;&#20915;&#12290;</p><ol>
<li><p><strong>&#35299;&#20915;&#31867;&#21152;&#36733;&#21644;&#21453;&#23556;&#38382;&#39064;</strong></p>
<p>Jadira UserType &#37324;&#20351;&#29992;&#20102; <code>ServiceLoader.load()</code> &#26469;&#21152;&#36733;&#31867;&#30340;&#24773;&#20917;&#65292;&#25968;&#37327;&#22810;&#21040;&#24050;&#32463;&#19981;&#24819;&#29992; <code>@TypeHint</code> &#26469;&#37197;&#32622;&#30340;&#22320;&#27493;&#20102;&#12290;&#32771;&#34385;&#21040;&#25105;&#20204;&#20854;&#23454;&#21482;&#29992;&#20102;&#22788;&#29702; <code>Money</code> &#31867;&#30340; <code>PersistentMoneyMinorAmount</code>&#65292;&#21487;&#20197;&#21435;&#25481; <code>usertype.core</code> &#36825;&#20010;&#20381;&#36182;&#65292;&#33258;&#24049;&#32534;&#20889;&#19968;&#20010;&#31616;&#21333;&#30340; <code>UserType</code> &#31867;&#23601;&#34892;&#20102;&#65292;&#22914;&#20195;&#30721;&#31034;&#20363; C-5 &#25152;&#31034;&#12290;</p>
<blockquote>
<p><strong>&#20195;&#30721;&#31034;&#20363; C-5</strong>&#12288;&#22788;&#29702; <code>Money</code> &#31867;&#22411;&#36716;&#25442;&#30340; Hibernate <code>UserType</code> &#31867;&#20195;&#30721;&#29255;&#27573;</p>
</blockquote>
<pre class="&#20195;&#30721;&#26080;&#34892;&#21495;"><code>public class MoneyType implements UserType {
    @Override
    public int[] sqlTypes() {
        return new int[] { Types.BIGINT };
    }

    @Override
    public Class returnedClass() {
        return Money.class;
    }

    @Override
    public Object nullSafeGet(ResultSet rs, String[] names,
        SharedSessionContractImplementor session, Object owner) throws HibernateException, SQLException {
        Long val = rs.getLong(names[0]);
        return Money.ofMinor(CurrencyUnit.of("CNY"), val);
    }

    @Override
    public void nullSafeSet(PreparedStatement st, Object value, int index, SharedSessionContractImplementor-
session) throws HibernateException, SQLException {
        if (null == value) {
            st.setNull(index, Types.BIGINT);
        } else {
            st.setLong(index, ((Money) value).getAmountMinorLong());
        }
    }
    // &#30465;&#30053;&#20854;&#20182;&#20195;&#30721;
}</code></pre>
<p>&#38543;&#21518;&#65292;&#25226;&#21407;&#26412;&#37197;&#32622;&#20102; <code>PersistentMoneyMinorAmount</code> &#30340;&#22320;&#26041;&#35843;&#25972;&#20026; <code>MoneyType</code>&#12290;&#20197; <code>Amount</code> &#31867;&#20026;&#20363;&#65292;&#21487;&#20197;&#25913;&#20026;&#20195;&#30721;&#31034;&#20363; C-6 &#37027;&#26679;&#65292;<code>MenuItem</code> &#31867;&#30340;&#35843;&#25972;&#20063;&#26159;&#31867;&#20284;&#30340;&#12290;</p>
<blockquote>
<p><strong>&#20195;&#30721;&#31034;&#20363; C-6</strong>&#12288;&#20351;&#29992; <code>MoneyType</code> &#20195;&#26367; <code>PersistentMoneyMinorAmount</code></p>
</blockquote>
<pre class="&#20195;&#30721;&#26080;&#34892;&#21495;"><code>@Builder
@Data
@AllArgsConstructor
@NoArgsConstructor
@Embeddable
public class Amount {
    @Column(name = "amount_discount")
    private int discount;

    @Column(name = "amount_total")
    @Type(type = "learning.spring.binarytea.support.MoneyType")
    private Money totalAmount;

    @Column(name = "amount_pay")
    @Type(type = "learning.spring.binarytea.support.MoneyType")
    private Money payAmount;
}</code></pre>
<p>JodaMoney &#36890;&#36807; <code>Class.forName()</code> &#21152;&#36733;&#20102; <code>DefaultCurrencyUnitDataProvider</code> &#31867;&#65292;&#36824;&#35835;&#21462;&#20102; CurrencyData.csv &#21644; CountryData.csv &#20004;&#20010;&#36164;&#28304;&#25991;&#20214;&#65292;&#21487;&#20197;&#29992; <code>@TypeHint</code> &#21644; <code>@ResourceHint</code> &#22312; Java &#37197;&#32622;&#31867;&#20013;&#28155;&#21152;&#25552;&#31034;&#65292;&#21578;&#35785; GraalVM &#30340;&#25554;&#20214;&#25226;&#36825;&#20123;&#20869;&#23481;&#25171;&#21253;&#36827;&#38236;&#20687;&#12290;JWT &#20063;&#26377;&#31867;&#20284;&#30340;&#38382;&#39064;&#65292;&#26377; 5 &#20010;&#31867;&#26159;&#29992; <code>Class.forName()</code> &#21152;&#36733;&#30340;&#65292;&#22312; pom.xml &#20013;&#25105;&#20204;&#25226; jjwt-impl &#21644; jjwt-jackson &#22768;&#26126;&#20026;&#36816;&#34892;&#26102;&#25165;&#38656;&#35201;&#30340;&#65292;&#29616;&#22312;&#32534;&#35793;&#26102;&#23601;&#38656;&#35201;&#20102;&#65292;&#22240;&#27492;&#38656;&#35201;&#21435;&#25481; <code>&lt;scope&gt;runtime&lt;/scope&gt;</code> &#30340;&#37197;&#32622;&#12290;Spring Security &#20250;&#36890;&#36807;&#21453;&#23556;&#35835;&#21462; <code>AuthenticationManagerBuilder</code> &#20013;&#30340;&#23646;&#24615;&#65292;&#20063;&#35768;&#35201;&#36827;&#34892;&#22768;&#26126;&#65292;<code>@TypeHint</code> &#37324;&#30340; <code>access</code> &#21487;&#20197;&#25351;&#23450;&#35775;&#38382;&#31867;&#22411;&#65292;<code>TypeAccess.DECLARED_FIELDS</code> &#23601;&#26159;&#20801;&#35768;&#35775;&#38382;&#25152;&#26377;&#22768;&#26126;&#20102;&#30340;&#23646;&#24615;&#12290;&#25105;&#20204;&#25226;&#19978;&#36848;&#25152;&#26377;&#25552;&#31034;&#20449;&#24687;&#38598;&#20013;&#21040;&#19968;&#20010;&#37197;&#32622;&#31867;&#37324;&#65292;&#20855;&#20307;&#22914;&#20195;&#30721;&#31034;&#20363; C-7 &#25152;&#31034;&#12290;</p>
<blockquote>
<p><strong>&#20195;&#30721;&#31034;&#20363; C-7</strong>&#12288;&#29992;&#20110;&#37197;&#32622; Spring Native &#27880;&#35299;&#30340; <code>HintConfig</code> &#31867;</p>
</blockquote>
<pre class="&#20195;&#30721;&#26080;&#34892;&#21495;"><code>@Configuration
@TypeHints({
    @TypeHint(types = MoneyType.class),
    // JWT
    @TypeHint(types = DefaultJwtParserBuilder.class),
    @TypeHint(types = DefaultJwtBuilder.class),
    @TypeHint(types = DefaultClaims.class),
    @TypeHint(types = DefaultHeader.class),
    @TypeHint(types = DefaultJwsHeader.class),
    // Joda Money
    @TypeHint(typeNames = "org.joda.money.DefaultCurrencyUnitDataProvider"),
    // Spring
    @TypeHint(types = AuthenticationManagerBuilder.class, access = TypeAccess.DECLARED_FIELDS)
})
@ResourcesHints({
    @ResourceHint(patterns = "org/joda/money/CurrencyData.csv"),
    @ResourceHint(patterns = "org/joda/money/CountryData.csv"),
})
public class HintConfig {
}</code></pre>
<p>&#36816;&#34892;&#36807;&#31243;&#20013;&#65292;&#25105;&#20204;&#36824;&#20250;&#21457;&#29616; <code>MenuService</code> &#31867;&#30340; <code>getByNameAndSize()</code> &#22312; <code>@Cacheable</code> &#27880;&#35299;&#37324;&#37197;&#32622;&#20102; SpEL &#34920;&#36798;&#24335;&#65292;&#20854;&#20013;&#30340; <code>#root.methodName</code> &#26080;&#27861;&#27491;&#24120;&#35299;&#26512;&#65292;&#36825;&#37324;&#25105;&#20204;&#23601;&#25226;&#36825;&#20010;&#26041;&#27861;&#30340; <code>@Cacheable</code> &#32531;&#23384;&#21435;&#25481;&#12290;&#22914;&#26524;&#22312;&#39033;&#30446;&#37324;&#27809;&#26377;&#29992; SpEL &#34920;&#36798;&#24335;&#65292;&#21487;&#20197;&#21578;&#35785; spring-aot-maven-plugin&#65292;&#21435;&#25481;&#30456;&#24212;&#30340; SpEL &#25903;&#25345;&#12290;&#31867;&#20284;&#22320;&#65292;&#36824;&#26377;&#19968;&#20123;&#20854;&#20182;&#37197;&#32622;&#65292;&#22914;&#34920; C-2 &#25152;&#31034;&#12290;</p>
<p><strong>&#34920; C-2&#12288;spring-aot-maven-plugin &#30340;&#19968;&#20123;&#37197;&#32622;</strong></p>
<table border="1" class="table table-bordered table-striped table-condensed" width="90%"><tr><th>&#37197;&#32622;&#39033;</th><th>&#40664;&#35748;&#20540;</th><th>&#35828;&#26126;</th></tr><tr><td><code>removeXmlSupport</code></td><td><code>true</code></td><td>&#21435;&#38500;&#24037;&#31243;&#20013;&#30340; XML &#25903;&#25345;</td></tr><tr><td><code>removeSpelSupport</code></td><td><code>false</code></td><td>&#21435;&#38500;&#24037;&#31243;&#20013;&#30340; SpEL &#25903;&#25345;</td></tr><tr><td><code>removeYamlSupport</code></td><td><code>false</code></td><td>&#21435;&#38500;&#24037;&#31243;&#20013;&#30340; YAML &#25903;&#25345;</td></tr><tr><td><code>removeJmxSupport</code></td><td><code>true</code></td><td>&#21435;&#38500;&#24037;&#31243;&#20013;&#30340; JMX &#25903;&#25345;</td></tr><tr><td><code>verify</code></td><td><code>true</code></td><td>&#26159;&#21542;&#25191;&#34892;&#33258;&#21160;&#39564;&#35777;&#65292;&#30830;&#20445;&#24212;&#29992;&#33021;&#20860;&#23481;&#26412;&#22320;&#38236;&#20687;</td></tr></table>
<p>&#22312;&#20855;&#20307;&#20351;&#29992;&#26102;&#65292;&#21487;&#20197;&#22312; <code>&lt;plugin/&gt;</code> &#20013;&#22686;&#21152;&#19979;&#38754;&#30340;&#37197;&#32622;&#65306;</p>
<pre class="&#20195;&#30721;&#26080;&#34892;&#21495;"><code>&lt;configuration&gt;
    &lt;removeSpelSupport&gt;true&lt;/removeSpelSupport&gt;
&lt;/configuration&gt;</code></pre>
<p>&#160;</p>
</li>
<li><p><strong>&#35843;&#25972; Java &#37197;&#32622;&#31867;</strong></p>
<p>&#22312; BinaryTea &#20013;&#38656;&#35201;&#35843;&#25972;&#30340; Java &#37197;&#32622;&#31867;&#20027;&#35201;&#26159; Spring Security &#30456;&#20851;&#30340; <code>WebSecurityConfiguration</code>&#12290;&#21407;&#20808;&#20854;&#20013;&#30340;&#24456;&#22810; Bean &#24341;&#29992;&#37117;&#26159;&#36890;&#36807;&#26041;&#27861;&#35843;&#29992;&#23454;&#29616;&#30340;&#65292;&#22312; CGLIB &#30340;&#24110;&#21161;&#19979;&#65292;&#22810;&#27425;&#35843;&#29992;&#26041;&#27861;&#23454;&#38469;&#21482;&#20250;&#25191;&#34892;&#19968;&#27425;&#65292;&#20294;&#29616;&#22312;&#35843;&#29992;&#19968;&#27425;&#23601;&#25191;&#34892;&#19968;&#27425;&#65292;&#23588;&#20854;&#26159; <code>userDetailsService()</code> &#36824;&#20250;&#24448;&#25968;&#25454;&#24211;&#37324;&#25554;&#20837;&#35760;&#24405;&#65292;&#31532;&#20108;&#27425;&#25191;&#34892;&#23601;&#20250;&#36829;&#21453;&#21807;&#19968;&#24615;&#32422;&#26463;&#12290;&#20026;&#27492;&#65292;&#25105;&#20204;&#21487;&#20197;&#23613;&#21487;&#33021;&#23558; Bean &#37197;&#32622;&#20174; <code>WebSecurityConfiguration</code> &#20013;&#31227;&#20986;&#21435;&#65292;&#29992; <code>@Autowired</code> &#23558; Spring &#19978;&#19979;&#25991;&#37324;&#30340; Bean &#27880;&#20837;&#36827;&#26469;&#12290;&#21516;&#26102;&#65292;&#22312;&#23450;&#20041; Bean &#30340;&#26102;&#20505;&#25226;&#20381;&#36182;&#21464;&#20026;&#20256;&#21442;&#65292;&#21487;&#20197;&#23558; <code>WebSecurityConfiguration</code> &#37324;&#30340; <code>loginController</code>&#12289;<code>jwtPreAuthenticatedAuthenticationProvider</code>&#12289;<code>persistentTokenRepository</code> &#21644; <code>userDetailsService</code> Bean &#23450;&#20041;&#31227;&#21040; <code>BinaryTeaApplication</code> &#37324;&#65292;&#20855;&#20307;&#22914;&#20195;&#30721;&#31034;&#20363; C-8 &#25152;&#31034;&#12290;</p>
<blockquote>
<p><strong>&#20195;&#30721;&#31034;&#20363; C-8</strong>&#12288;&#22686;&#21152;&#20102; Bean &#23450;&#20041;&#30340; <code>BinaryTeaApplication</code> &#31867;</p>
</blockquote>
<pre class="&#20195;&#30721;&#26080;&#34892;&#21495;"><code>@SpringBootApplication
@EnableCaching
public class BinaryTeaApplication {
    // &#30465;&#30053;&#21407;&#20808;&#24050;&#23384;&#22312;&#30340;&#26041;&#27861;

    @Bean("/login")
    public UrlFilenameViewController loginController() {
        UrlFilenameViewController controller = new UrlFilenameViewController();
        controller.setSupportedMethods(HttpMethod.GET.name());
        controller.setSuffix(".html");
        return controller;
    }

    @Bean
    public PreAuthenticatedAuthenticationProvider jwtPreAuthenticatedAuthenticationProvider(ObjectProvider
&lt;DataSource&gt; dataSources,
                     UserDetailsService userDetailsService) {
        PreAuthenticatedAuthenticationProvider provider = new PreAuthenticatedAuthenticationProvider();
        provider.setPreAuthenticatedUserDetailsService(
            new UserDetailsByNameServiceWrapper&lt;&gt;(userDetailsService));
        return provider;
    }

    @Bean
    public PersistentTokenRepository persistentTokenRepository(ObjectProvider&lt;DataSource&gt; dataSources) {
        JdbcTokenRepositoryImpl tokenRepository = new JdbcTokenRepositoryImpl();
        tokenRepository.setDataSource(dataSources.getIfAvailable());
        tokenRepository.setCreateTableOnStartup(false);
        return tokenRepository;
    }

    @Bean
    public UserDetailsService userDetailsService(ObjectProvider&lt;DataSource&gt; dataSources) {
        RoleBasedJdbcUserDetailsManager userDetailsManager = new RoleBasedJdbcUserDetailsManager();
        userDetailsManager.setDataSource(dataSources.getIfAvailable());
        UserDetails manager = User.builder()
            .username("HanMeimei")
            .password("{bcrypt}$2a$10$iAty2GrJu9WfpksIen6qX.vczLmXlp.1q1OHBxWEX8BIldtwxHl3u")
            .roles("MANAGER")
            .build();
        userDetailsManager.createUser(manager);
        return userDetailsManager;
    }
}</code></pre>
<p><code>WebSecurityConfiguration</code> &#37324;&#20063;&#35201;&#20570;&#23545;&#24212;&#30340;&#35843;&#25972;&#12290;&#29992; <code>@Autowired</code> &#27880;&#20837;&#20854;&#20182;&#22320;&#26041;&#22768;&#26126;&#30340; Bean&#65292;<code>authenticationManagerBean()</code> &#20869;&#37096;&#35843;&#29992;&#20102;&#29238;&#31867;&#30340;&#26041;&#27861;&#65292;&#25152;&#20197;&#19981;&#33021;&#31227;&#20986;&#21435;&#12290;<code>jwtAuthenticationFilter()</code> &#21448;&#20381;&#36182;&#20102; <code>authenticationManagerBean()</code>&#65292;&#25152;&#20197;&#20063;&#35201;&#20445;&#30041;&#12290;<code>jwtAuthenticationFilter()</code> &#22312; <code>configure (HttpSecurity http)</code> &#37324;&#21448;&#34987;&#35843;&#29992;&#20102;&#19968;&#27425;&#65292;&#37027;&#27425;&#31561;&#20110;&#19981;&#26159;&#20381;&#36182; Bean &#30340;&#65292;&#22240;&#27492;&#37324;&#38754;&#30340; <code>@Autowired</code> &#27880;&#35299;&#27809;&#26377;&#29983;&#25928;&#12290;&#20026;&#20102;&#36991;&#20813;&#25191;&#34892;&#20013;&#32570;&#23569; <code>JwtTokenHelper</code>&#65292;&#25243;&#20986; <code>NullPointerException</code>&#65292;&#20026; <code>JwtAuthenticationFilter</code> &#22686;&#21152; <code>setJwtTokenHelper()</code> &#26041;&#27861;&#65292;&#25163;&#21160;&#23558; <code>jwtTokenHelper</code> &#27880;&#20837;&#36827;&#21435;&#12290;&#20855;&#20307;&#22914;&#20195;&#30721;&#31034;&#20363; C-9 &#25152;&#31034;&#12290;</p>
<blockquote>
<p><strong>&#20195;&#30721;&#31034;&#20363; C-9</strong>&#12288;&#35843;&#25972;&#21518;&#30340; <code>WebSecurityConfiguration</code> &#31867;</p>
</blockquote>
<pre class="&#20195;&#30721;&#26080;&#34892;&#21495;"><code>@Configuration
@EnableWebSecurity
@EnableGlobalMethodSecurity(securedEnabled = true,
                            prePostEnabled = true,
                            jsr250Enabled = true)
public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {
    @Autowired
    private UserDetailsService userDetailsService;
    @Autowired
    private PersistentTokenRepository persistentTokenRepository;
    @Autowired
    private PreAuthenticatedAuthenticationProvider jwtPreAuthenticatedAuthenticationProvider;
    @Autowired
    private JwtTokenHelper jwtTokenHelper;

    @Bean
    public JwtAuthenticationFilter jwtAuthenticationFilter() throws Exception {
        JwtAuthenticationFilter filter = new JwtAuthenticationFilter();
        filter.setJwtTokenHelper(jwtTokenHelper); // &#25163;&#21160;&#27880;&#20837;&#20381;&#36182;
        filter.setAuthenticationManager(authenticationManagerBean());
        return filter;
    }

    @Override
    protected void configure(AuthenticationManagerBuilder auth) throws Exception {
        auth.authenticationProvider(jwtPreAuthenticatedAuthenticationProvider).userDetailsService
(userDetailsService);
    }

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        // &#36825;&#37096;&#20998;&#20195;&#30721;&#21487;&#20197;&#21442;&#32771;&#31034;&#20363;&#25991;&#20214;&#65292;&#27492;&#22788;&#30465;&#30053;
    }
    // &#30465;&#30053;&#20854;&#20182;&#20195;&#30721;
}</code></pre>
<p>&#160;</p>
</li>
<li><p><strong>&#37197;&#32622;&#21160;&#24577;&#20195;&#29702;&#31867;&#22411;</strong></p>
<p>&#22312; BinaryTea &#24037;&#31243;&#36816;&#34892;&#36807;&#31243;&#20013;&#65292;&#25105;&#20204;&#22312;&#26085;&#24535;&#20013;&#30475;&#21040;&#20102;&#19981;&#23569;&#31867;&#20284;&#19979;&#38754;&#36825;&#26679;&#30340;&#20449;&#24687;&#65306;</p>
<pre class="&#20195;&#30721;&#26080;&#34892;&#21495;"><code>INFO 9628 --- [main] o.s.core.annotation.MergedAnnotation : Failed to introspect annotations on public
java.util.Optional learning.spring.binarytea.controller.MenuController.createByForm(learning.spring.
binarytea.controller.request.NewMenuItemForm,org.springframework.validation.BindingResult,javax.servlet.
http.HttpServletResponse): com.oracle.svm.core.jdk.UnsupportedFeatureError: Proxy class defined by
interfaces [interface org.springframework.web.bind.annotation.PostMapping, interface org.springframework.
core.annotation.SynthesizedAnnotation] not found. Generating proxy classes at runtime is not supported.
Proxy classes need to be defined at image build time by specifying the list of interfaces that they
implement. To define proxy classes use -H:DynamicProxyConfigurationFiles=&lt;comma-separated-config-files&gt;
and -H:DynamicProxyConfigurationResources=&lt;comma-separated-config-resources&gt; options.</code></pre>
<p>&#22823;&#24847;&#26159;&#19981;&#25903;&#25345;&#22312;&#36816;&#34892;&#26102;&#29983;&#25104;&#20195;&#29702;&#31867;&#65292;&#21487;&#20197;&#22312;&#26500;&#24314;&#26102;&#23558;&#20195;&#29702;&#31867;&#30340;&#20449;&#24687;&#23450;&#20041;&#22909;&#65292;&#29992; <code>-H:DynamicProxyConfigurationFiles</code> &#20174;&#25991;&#20214;&#20013;&#35835;&#21462;&#37197;&#32622;&#20449;&#24687;&#65292;&#25110;&#32773;&#29992; <code>-H:DynamicProxyConfigurationResources</code> &#20174; CLASSPATH &#36164;&#28304;&#20013;&#35835;&#21462;&#37197;&#32622;&#20449;&#24687;&#12290;&#25105;&#20204;&#21487;&#20197;&#22312; resources &#20013;&#26032;&#22686;&#19968;&#20010; dynamic-proxy.json &#25991;&#20214;&#65292;&#20869;&#23481;&#22914;&#20195;&#30721;&#31034;&#20363; C-10 &#25152;&#31034;&#12290;&#37324;&#38754;&#30340;&#20869;&#23481;&#26159;&#19968;&#20010; JSON &#25968;&#32452;&#65292;&#25968;&#32452;&#20013;&#30340;&#27599;&#20010;&#20803;&#32032;&#37117;&#26159;&#19968;&#20010;&#20195;&#29702;&#31867;&#28041;&#21450;&#30340;&#25509;&#21475;&#65292;&#25509;&#21475;&#30340;&#39034;&#24207;&#35201;&#21644;&#19978;&#38754;&#26085;&#24535;&#20013;&#30340;&#25509;&#21475;&#39034;&#24207;&#19968;&#33268;&#12290;</p>
<blockquote>
<p><strong>&#20195;&#30721;&#31034;&#20363; C-10</strong>&#12288;dynamic-proxy.json &#25991;&#20214;&#30340;&#20869;&#23481;</p>
</blockquote>
<pre class="&#20195;&#30721;&#26080;&#34892;&#21495;"><code>[
    { "interfaces": [ "org.springframework.web.bind.annotation.PostMapping", "org.springframework.core.
annotation.SynthesizedAnnotation" ] },
    { "interfaces": [ "org.springframework.web.bind.annotation.GetMapping", "org.springframework.core.
annotation.SynthesizedAnnotation" ] },
    { "interfaces": [ "org.springframework.boot.autoconfigure.web.servlet.ConditionalOnMissingFilterBean",
"org.springframework.core.annotation.SynthesizedAnnotation" ] }
]</code></pre>
<p>&#38543;&#21518;&#65292;&#35843;&#25972; pom.xml &#20013; native-maven-plugin &#25554;&#20214;&#30340;&#37197;&#32622;&#65292;&#22686;&#21152;&#26500;&#24314;&#21442;&#25968;&#65292;&#20855;&#20307;&#22914;&#20195;&#30721;&#31034;&#20363; C-11 &#25152;&#31034;&#12290;</p>
<blockquote>
<p><strong>&#20195;&#30721;&#31034;&#20363; C-11</strong>&#12288;&#35843;&#25972; native-maven-plugin</p>
</blockquote>
<pre class="&#20195;&#30721;&#26080;&#34892;&#21495;"><code>&lt;plugin&gt;
    &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;
    &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;0.9.11&lt;/version&gt;
    &lt;!-- &#30465;&#30053;&#37096;&#20998;&#20869;&#23481; --&gt;
    &lt;configuration&gt;
        &lt;buildArgs&gt;
            &lt;buildArg&gt;-H:DynamicProxyConfigurationResources=dynamic-proxy.json&lt;/buildArg&gt;
        &lt;/buildArgs&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;</code></pre>
</li>
</ol><h3 id="nav_point_275">C.2.4&#12288;&#20854;&#20182;&#20248;&#21270;</h3><p>&#22312;&#35299;&#20915;&#38382;&#39064;&#20043;&#20313;&#65292;&#25105;&#20204;&#36824;&#21487;&#20197;&#20570;&#19968;&#20123;&#20248;&#21270;&#65292;&#35753;&#29983;&#25104;&#30340;&#26412;&#22320;&#38236;&#20687;&#36305;&#24471;&#26356;&#24555;&#65292;&#21344;&#29992;&#36164;&#28304;&#26356;&#23569;&#65292;&#20363;&#22914;&#65306;</p><ul>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;">&#21487;&#20197;&#29992; tomcat-embed-programmatic &#26469;&#20195;&#26367; tomcat-embed-core &#21644; tomcat-embed-websocket&#65307;<span class="&#27880;&#37322;&#32534;&#21495;">12</span></li>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;">&#22914;&#26524;&#19981;&#29992; Micrometer &#26469;&#36755;&#20986;&#24230;&#37327;&#20449;&#24687;&#65292;&#21487;&#20197;&#20174; spring-boot-starter-actuator &#20013;&#21435;&#25481; Micrometer &#30340;&#20381;&#36182;&#65307;</li>
<li class="&#31532;1&#32423;&#26080;&#24207;&#21015;&#34920;">&#22914;&#21069;&#25991;&#25552;&#21040;&#30340;&#65292;&#21435;&#38500;&#19981;&#24517;&#35201;&#30340; SpEL&#12289;XML &#21644; YAML &#25903;&#25345;&#65292;&#20294;&#21069;&#25552;&#26159;&#26126;&#30830;&#33258;&#24049;&#30830;&#23454;&#19981;&#38656;&#35201;&#12290;<span class="&#27880;&#37322;&#32534;&#21495;">13</span></li>
</ul><p class="&#27880;&#37322;&#20869;&#23481;"><span class="&#27880;&#37322;&#32534;&#21495;&#19979;">12</span>&#30446;&#21069;&#30340; Spring Native &#20165;&#25903;&#25345; Tomcat&#65292;&#36824;&#19981;&#25903;&#25345;&#20854;&#20182;&#30340; Web &#23481;&#22120;&#12290;</p><p class="&#27880;&#37322;&#20869;&#23481;"><span class="&#27880;&#37322;&#32534;&#21495;&#19979;">13</span>&#22312;&#26412;&#20363;&#20013;&#25105;&#20204;&#27809;&#26377;&#21435;&#38500; SpEL &#21644; YAML &#30340;&#25903;&#25345;&#12290;</p><p>&#36825;&#20123;&#20248;&#21270;&#37117;&#25918;&#22312; pom.xml &#20013;&#65288;&#21069;&#20004;&#20010;&#37117;&#26159;&#23545;&#20381;&#36182;&#30340;&#35843;&#25972;&#65289;&#65292;&#20855;&#20307;&#22914;&#20195;&#30721;&#31034;&#20363; C-12 &#25152;&#31034;&#12290;</p><blockquote>
<p><strong>&#20195;&#30721;&#31034;&#20363; C-12</strong>&#12288;&#23545;&#20381;&#36182;&#30340;&#19968;&#20123;&#20248;&#21270;</p>
</blockquote><pre class="&#20195;&#30721;&#26080;&#34892;&#21495;"><code>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
    &lt;exclusions&gt;
        &lt;exclusion&gt;
            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;
            &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;
        &lt;/exclusion&gt;
        &lt;exclusion&gt;
            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;
            &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;
        &lt;/exclusion&gt;
    &lt;/exclusions&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.apache.tomcat.experimental&lt;/groupId&gt;
    &lt;artifactId&gt;tomcat-embed-programmatic&lt;/artifactId&gt;
    &lt;version&gt;${tomcat.version}&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
    &lt;exclusions&gt;
        &lt;exclusion&gt;
            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;
            &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;
        &lt;/exclusion&gt;
    &lt;/exclusions&gt;
&lt;/dependency&gt;</code></pre><p>&#22312;&#23436;&#25104;&#20102;&#19978;&#36848;&#25152;&#26377;&#25913;&#21160;&#21518;&#65292;&#25105;&#20204;&#21487;&#20197;&#37325;&#26032;&#26500;&#24314;&#39033;&#30446;&#30340;&#26412;&#22320;&#38236;&#20687;&#65292;&#28982;&#21518;&#36890;&#36807;&#27983;&#35272;&#22120;&#35775;&#38382; Web &#30028;&#38754;&#65292;&#25110;&#32773;&#29992; Customer &#24037;&#31243;&#35775;&#38382; REST &#26381;&#21153;&#65292;&#31995;&#32479;&#24212;&#35813;&#33021;&#27491;&#24120;&#21709;&#24212;&#12290;</p><p>&#23545;&#27604;&#19968;&#19979;&#29616;&#22312;&#20351;&#29992;&#30340;&#26412;&#22320;&#38236;&#20687;&#19982;&#20256;&#32479;&#30340; Fat Jar&#65292;&#22312;&#21551;&#21160;&#26085;&#24535;&#37324;&#25214;&#21040; <code>Started BinaryTeaApplication in XXX seconds</code> &#37027;&#34892;&#65292;&#20004;&#32773;&#26377;&#30528;&#22825;&#22756;&#20043;&#21035;&#12290;&#26412;&#22320;&#38236;&#20687;&#21551;&#21160;&#20165;&#38656; 0.434 &#31186;&#65292;&#20063;&#23601;&#26159; 434 &#27627;&#31186;&#65292;&#20869;&#23384;&#21344;&#29992;&#22823;&#32422;&#22312; 94MB&#12290;&#32780;&#29992; java -jar &#26041;&#24335;&#36816;&#34892; Fat Jar&#65292;&#21551;&#21160;&#38656;&#35201; 3.544 &#31186;&#65292;&#20869;&#23384;&#21344;&#29992;&#22823;&#32422;&#26159; 577MB&#65292;&#22823;&#32422;<strong>&#20998;&#21035;&#26159;&#21069;&#32773;&#30340; 8 &#20493;&#19982; 6 &#20493;</strong>&#12290;<span class="&#27880;&#37322;&#32534;&#21495;">14</span> &#21487;&#35265; Spring Native &#19982; GraalVM &#36824;&#26159;&#20026;&#25105;&#20204;&#30340;&#20108;&#36827;&#21046;&#22902;&#33590;&#24215;&#39033;&#30446;&#24102;&#26469;&#20102;&#24456;&#22823;&#30340;&#24615;&#33021;&#25552;&#21319;&#30340;&#65292;&#26080;&#35770;&#26159;&#21542;&#36816;&#34892;&#22312;&#23481;&#22120;&#20013;&#65292;&#36825;&#31181;&#25552;&#21319;&#37117;&#26159;&#24456;&#21487;&#35266;&#30340;&#12290;</p><p class="&#27880;&#37322;&#20869;&#23481;"><span class="&#27880;&#37322;&#32534;&#21495;&#19979;">14</span>&#20004;&#31181;&#26041;&#24335;&#37117;&#26410;&#20570;&#20219;&#20309; JVM &#21442;&#25968;&#37197;&#32622;&#25110;&#30456;&#20851;&#20248;&#21270;&#65292;&#37117;&#26159;&#21629;&#20196;&#34892;&#19979;&#30340;&#40664;&#35748;&#20540;&#12290;</p><br style="page-break-after:always"/><div style="page-break-after:always"></div>